usethis::use_description()
?usethis::use_description()
?usethis::use_description(check_name = FALSE)
install.packages('rstanarm')
install.packages('rstanarm')
library(tidyverse)
library(rstanarm)
mtcars
as_tibble(mtcars, rownames = "carName")
mtcars <- as_tibble(mtcars, rownames = "carName")
mtcars <- as_tibble(mtcars, rownames = "carName")
mod_bayes <- rstanarm::stan_glm(mpg ~ cyl + disp + hp, data = mtcars,
family = gaussian(link = 'identity'),
seed = 123)
mod_lm <- lm(mpg ~ cyl + disp + hp, data = mtcars)
summary(mod_bayes)
mod_lm <- lm(mpg ~ cyl + disp + hp, data = mtcars)
summary(mod_lm)
pp_check(mod_bayes)
pp_check(mod_bayes, plotfun = "stat_2d", stat = c("mean", "sd"))
y_8cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 8)
)
y_2cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)
y_2cyl
posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)[,1]
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,2]
)
y_8cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 8)
)
y_2cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)[,1]
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
)
y_8cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 8)
)
y_2cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
)
comparison
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
n = n()
)
comparison
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
n = 1:n()
)
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
n = row_number()
)
y_8cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 8)
)
y_2cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
)
y_8cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 8)
)
y_2cyl <- posterior_predict(
mod_bayes, newdata = data.frame(disp = 160, hp = 100, cyl = 2)
)
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
n = row_number()
)
comparison
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
n = row_number()
) |>
pivot_longer(
-n,
names_to = 'scenaro',
values_to = 'estimate'
)
comparison
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
difference = pred_8cyl - pred_2cyl
) |>
mutate(
n = row_number()
) |>
pivot_longer(
-n,
names_to = 'scenaro',
values_to = 'estimate'
)
ggplot(aes(x = estimate)) +
geom_histogram() +
facet_wrap(~scenario)
comparison |>
ggplot(aes(x = estimate)) +
geom_histogram() +
facet_wrap(~scenario)
comparison
comparison |>
ggplot(aes(x = estimate)) +
geom_histogram()
comparison |>
ggplot(aes(x = estimate)) +
geom_histogram(nbins = 100)
comparison |>
ggplot(aes(x = estimate)) +
geom_histogram(bins = 100)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.4, bins = 100)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.4, bins = 100) +
facet_wrap(. ~scenario)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.4, bins = 100)
comparison <- tibble(
pred_8cyl = y_8cyl[,1],
pred_2cyl = y_2cyl[,1]
) |>
mutate(
difference = pred_8cyl - pred_2cyl
) |>
mutate(
n = row_number()
) |>
pivot_longer(
-n,
names_to = 'scenario',
values_to = 'estimate'
)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.4, bins = 100)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.4, bins = 100) +
facet_wrap(~scenario)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.8, bins = 100) +
facet_wrap(~scenario)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.8, bins = 100) +
facet_wrap(~scenario) +
geom_vline(x = 0)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.8, bins = 100) +
facet_wrap(~scenario) +
geom_vline(xintercept = 0)
comparison |>
ggplot(aes(x = estimate, group = scenario, fill = scenario)) +
geom_histogram(alpha = 0.8, bins = 100) +
facet_wrap(~scenario) +
geom_vline(xintercept = 0) +
labs(
title = "Posterior distributions and differences between scenarios"
)
devtools::load_all()
usethis::use_devtools()
devtools::load_all(".")
